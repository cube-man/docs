# 面向对象

## 一、介绍

1. 对象包含：
   1. Data(State)
   2. Methods(Behavior)
2. 优点：
   - 利于维护
   - 降低耦合
   - 代码重用

## 二、Class

### 2.1 类和对象

1. 类：是一种模板，可以通过此模板克隆出多个复制体
2. 对象：是类的实例化(instance)，拥有状态(state)和行为(behavior)

### 2.2 内存分配

1. 栈：是方法运行的地方，先进后出，方法运行完即出栈，出栈后方法即销毁，局部变量将消失
2. 堆：当有新的对象创建时，会在堆中开辟出一块区域，用来存放对象，随着对象的增加会不断增大。

### 面向过程编程

1. 过大会形成极其复杂的方法调用链，

### OOP 原则（封装）

#### getters & setter

1. 程序能感知到，成员变量赋值则不会（vue watch 也一样）

#### static

1. 静态修饰的属性：唯一，对象实例共用，类可以直接不实例化点出来，先初始化
2. 修饰的方法：同上

#### final

1. 修饰的类：不可被继承
2. 修饰的属性：不可被修改（构造器可以初始化，同一加载时间）
   - 基本类型：值不可以改变
   - 抽象类型：对象引用不可改变
3. 修饰的方法：不可被重写
4. jdk String 类

#### abstract

1. 修饰的类，不可以直接 new
2. 抽象方法可以没有抽象类，有抽象方法的一定是抽象类
3. 继承的若是实现类，必须实现抽象类中的抽象方法

#### 比较对象

1. == 判断地址值是否一致
2. equals(Object obj) Object 类的方法，相当于==，比较里面的值需重写

### 短路原则

尽快将结果返回，能省即省

### OOP 原则（继承）

1. 转型（引用类型）
   1. 向上转型：自动类型提升
   2. 向下转型：需要是子类
2. java 不支持多根继承

#### 方法重写

同名同参

#### 方法重载

同名不同参

### OOP 原则（多态）

1. Parent son = new Son()
2. 父类引用指向子类对象
3. 可以向上转回父类再转回子类
   - 本身就是子类实例
   - 不可以父类对象向下转型至子类

### 接口

#### 总结

1. 接口是我们抽象对象的行为时所封装的类型，定义的一种规约

#### 特点

1. class xx implments xx
2. 实现类必须实现接口中的方法，不全实现则是抽象类
3. 接口可以定义属性，默认是 public static void，更改无效
4. 接口中不可以有具体的方法实现（jdk1.7 及以前）
5. 接口中可以有具体方法，但是必须是 default 的
6. 可以说是抽象类抽象到极致的一种特殊情况
7. 接口与其他类型的关系
   1. 接口可以继承接口并且可以多继承，是 java 中唯一可以的多继承，以逗号分隔
   2. 类可以实现接口，并且可以同时实现多个，以逗号分隔

#### 用法

1. 作用：解耦合，松耦合
2. 形成多态
3. 跨界类型，可以声明接口传递多种实现类

#### 和抽象类的区别

1. 抽象可以有具体方法，接口都是抽象（除 default）
2. 抽象类可以有成员变量，接口只能常量
3. 抽象类单继承，接口多继承
4. 抽象是 is a,接口是 like a
